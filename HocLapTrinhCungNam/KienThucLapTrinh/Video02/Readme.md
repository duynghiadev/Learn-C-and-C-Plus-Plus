# Quáº£n lÃ½ bá»™ nhá»› vÃ  con trá»

- Bá»™ nhá»› mÃ¡y tÃ­nh Ä‘Æ°á»£c tá»• chá»©c nhÆ° tháº¿ nÃ o? Báº£n cháº¥t cá»§a con trá» lÃ  gÃ¬?
- Hi vá»ng video nÃ y sáº½ giáº£i thÃ­ch Ä‘Æ°á»£c cho cÃ¡c báº¡n.

_**Xem thÃªm bÃ i viáº¿t vá» con trá» táº¡i Ä‘Ã¢y:**_

https://daohainam.com/2021/08/13/cau-chuyen-ve-con-tro-pointer/

---

## Ná»™i dung bÃ i há»c:

ChÃºng ta cÃ³ 2 loáº¡i bá»™ nhá»› Ä‘Ã³ lÃ  `bá»™ nhá»› trong` vÃ  `bá»™ nhá»› ngoÃ i`:

- Bá»™ nhá»› trong cÃ³: RAM, ROM
- Bá»™ nhá»› ngoÃ i cÃ³: ÄÄ©a cá»©ng, USB
- Khi lÃ m viá»‡c trong láº­p trÃ¬nh thÃ¬ chÃºng ta sáº½ thÆ°á»ng xuyÃªn há»c vÃ  háº§u nhÆ° lÃ  há»c vá» `bá»™ nhá»› trong`
- Khi chÃºng ta run code thÃ¬ nÃ³ sáº½ quáº£n lÃ­ bá»™ nhá»› trong nhÆ° lÃ  `memory`. Memory giá»‘ng nhÆ° lÃ  1 array,
  má»—i thÃ nh pháº§n trong Ä‘Ã³ lÃ  `1 byte`, chÃºng ta cÃ³ 1 array lÃ  `1 MB`
- Náº¿u chÃºng ta muá»‘n láº¥y giÃ¡ trá»‹ trong máº£ng thÃ¬ sáº½ láº¥y láº§n lÆ°á»£t tá»« `index = 0`, sau Ä‘Ã³ `index =
  1`, vÃ  cá»© Ä‘Ã³ Ä‘áº¿n háº¿t array

> TÃ³m láº¡i: bá»™ nhá»› chÃºng ta lÃ  1 máº£ng, má»—i thÃ nh pháº§n trong máº£ng Ä‘Ã³ lÃ  1 byte, nÃ³ sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘
> tá»« 0 cho Ä‘áº¿n n (vá»›i n cÃ³ kÃ­ch thÆ°á»›c tá»‘i Ä‘a lÃ  1 MB)

> Táº¥t cáº£ cÃ¡c byte trong bá»™ nhá»› lÃ  duy nháº¥t

![img.png](img.png)

---

- Má»—i giÃ¡ trá»‹ nÃ³ sáº½ Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ o file nÃ o Ä‘Ã³ mÃ  Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn á»• Ä‘Ä©a báº¥t ká»³

- DÆ°á»›i Ä‘Ã¢y lÃ  hÃ¬nh áº£nh minh há»a giÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u vÃ o á»• Ä‘Ä©a
  ![img_1.png](img_1.png)

- Chá»‰ cÃ³ há»‡ Ä‘iá»u hÃ nh má»›i biáº¿t Ä‘Æ°á»£c chÃ­nh xÃ¡c giÃ¡ trá»‹ Ã¡nh xáº¡ vÃ o Ä‘Ã¢u trong bá»™ nhá»› RAM, hoáº·c há»‡
  Ä‘iá»u hÃ nh cÃ³ thá»ƒ thay Ä‘á»•i láº¡i cÃ¡i viá»‡c Ä‘Ã³.

---

- NhÆ°ng Ä‘á»©ng nhÃ¬n nÃ³ vá»›i gá»‘c Ä‘á»™ láº­p trÃ¬nh thÃ¬ mÃ¬nh khÃ´ng cáº§n quan tÃ¢m Ä‘áº¿n viá»‡c Ä‘Ã³. ChÃºng ta chá»‰
  cáº§n quan tÃ¢m dÃ¹ng cÃ¡i Ä‘á»‹a chá»‰ Ä‘Ã³ vÃ  pháº§n bá»™ nhá»› Ä‘Ã³ --> viá»‡c cá»§a chÃºng ta lÃ  Ä‘á»c vÃ  ghi vÃ o
  thÃ´i, cÃ²n nÃ³ Ä‘i Ä‘Ã¢u thÃ¬ viá»‡c cá»§a há»‡ Ä‘iá»u hÃ nh nÃ³ sáº½ quáº£n lÃ½
- CÃ¡i Ä‘Æ¡n vá»‹ quáº£n lÃ½ bá»™ nhá»› trong CPU vÃ  há»‡ Ä‘iá»u hÃ nh cÃ¹ng káº¿t há»£p vá»›i nhau vÃ  nÃ³ sáº½ quyáº¿t Ä‘á»‹nh nÃ³
  sáº½ Ä‘i Ä‘Ã¢u vÃ  á»Ÿ Ä‘Ã¢u. CÅ©ng nhÆ° khi cÃ¡c báº¡n dÃ¹ng á»©ng dá»¥ng thÃ¬ nhá»¯ng cÃ¡i pháº§n nÃ o nÃ³ Ä‘Æ°á»£c dÃ¹ng bá»Ÿi
  á»©ng dá»¥ng thÃ¬ nÃ³ sáº½ Ä‘Ã¡nh dáº¥u láº¡i bá»Ÿi há»‡ Ä‘iá»u hÃ nh vÃ  há»‡ Ä‘iá»u hÃ nh sáº½ quáº£n lÃ½ cÃ¡i viá»‡c Ä‘Ã³

---

- Trong thá»±c táº¿ thÃ¬ cÃ¡i viá»‡c quáº£n lÃ½ bá»™ nhá»› phá»©c táº¡p hÆ¡n ráº¥t nhiá»u, nÃ³ liÃªn quan Ä‘áº¿n mÃ´n lÃ½
  thuyáº¿t há»‡ Ä‘iá»u hÃ nh vÃ  mÃ´n kiáº¿n trÃºc mÃ¡y tÃ­nh, thÃ¬ cÃ¡c báº¡n sáº½ Ä‘i sÃ¢u vÃ o cÃ¡i Ä‘Ã³. NÃ³ lÃ  pháº§n
  phá»©c táº¡p nháº¥t

=> NÃ³ lÃ  pháº§n ráº¥t lÃ  sÃ¢u, cho nÃªn cÃ³ Ã­t ngÆ°á»i quan tÃ¢m Ä‘áº¿n cÃ¡i Ä‘Ã³

---

### Nhá»¯ng váº¥n Ä‘á» quan trá»ng nháº¥t mÃ  mÃ¬nh pháº£i cáº§n nhá»› nÃ¨:

- Bá»™ nhá»› Ä‘Æ°á»£c tá»• chá»©c thÃ nh 1 dÃ£y liÃªn tá»¥c bá»Ÿi cÃ¡c byte, má»—i 1 byte nÃ³ sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh Ä‘á»‹a chá»‰. Äá»‹a
  chá»‰ Ä‘áº§u tiÃªn cá»§a nÃ³ lÃ  0, vÃ  cÃ¡c Ä‘á»‹a chá»‰ Ä‘Ã³ nÃ³ tÄƒng dáº§n
- Äá»©ng tá»« gá»‘c Ä‘á»™ láº­p trÃ¬nh thÃ¬ mÃ¬nh chá»‰ cáº§n biáº¿t cÃ¡c Ä‘á»‹a chá»‰ nÃ y thÃ´i. Thá»±c cháº¥t ra, nÃ³ náº±m á»Ÿ
  Ä‘Ã¢u trong bá»™ nhá»› thÃ¬ mÃ¬nh khÃ´ng cáº§n pháº£i quan tÃ¢m.
- KhÃ¡i niá»‡m Ä‘á»‹a chá»‰ nÃ y nÃ³ ráº¥t quan trá»ng vÃ  chÃºng ta sáº½ cÃ²n gáº·p nÃ³ ráº¥t ráº¥t nhiá»u Ä‘Ã³. Äá»‹a chá»‰ Ä‘Ã³
  lÃ  1 sá»‘ nguyÃªn dÆ°Æ¡ng khÃ´ng Ã¢m
  ![img_2.png](img_2.png)

---

> Sau khi Ä‘Ã£ biáº¿t Ä‘Æ°á»£c khÃ¡i niá»‡m Ä‘á»‹a chá»‰ rá»“i thÃ¬ chÃºng ta sáº½ sang kiáº¿n thá»©c khÃ¡c Ä‘Ã³ lÃ  `Con Trá»`

## Pháº§n tÃ¬m theo lÃ  _con trá»_

- Náº¿u Ä‘Ã£ biáº¿t Ä‘á»‹a chá»‰ lÃ  gÃ¬ rá»“i thÃ¬ kiáº¿n thá»©c vá» con trá» cá»±c kÃ¬ Ä‘Æ¡n giáº£n
- Con trá» lÃ  cÃ¡i biáº¿n trong bá»™ nhá»› mÃ  giÃ¡ trá»‹ cá»§a nÃ³ lÃ  1 cÃ¡i Ä‘á»‹a chá»‰. Tá»©c lÃ  nÃ³ lÃ  1 biáº¿n bÃ¬nh
  thÆ°á»ng thÃ´i vÃ  nÃ³ náº±m á»Ÿ Ä‘Ã¢u Ä‘Ã³ trong bá»™ nhá»›, nhÆ°ng mÃ  giÃ¡ trá»‹ chá»©a trong nÃ³ Ä‘Ã³ lÃ  1 con sá»‘ tá»«
  0 Ä‘áº¿n n (con sá»‘ Ä‘Ã³ lÃ  1 cÃ¡i Ä‘á»‹a chá»‰ nÃ o Ä‘Ã³ trong bá»™ nhá»›)
- Bá»Ÿi vÃ¬ chÃºng ta cÃ³ Ä‘á»‹a chá»‰ lÃ  1 sá»‘ nguyÃªn khÃ´ng Ã¢m (16-bit, 32-bit,...). Cho nÃªn 1 con trá»
  cÅ©ng cÃ³ kiá»ƒu nhÆ° váº­y Ä‘Ã³ (cÅ©ng lÃ  1 sá»‘ nguyÃªn khÃ´ng Ã¢m)
- MÃ¬nh sáº½ truy cáº­p vÃ o nÆ¡i nÃ o Ä‘Ã³ trong bá»™ nhá»› thÃ´ng qua 1 cÃ¡i biáº¿n con trá»
- VÃ­ dá»¥: tÃ´i láº¥y cÃ¡i memory thá»© 5 trong bá»™ nhá»›, thay vÃ¬ mÃ¬nh nÃ³ láº¥y sá»‘ 5 thÃ¬ mÃ¬nh láº¡i nÃ³i nhÆ°
  nÃ y: --> TÃ´i láº¥y cÃ¡i memory thá»© p trong bá»™ nhá»›
  ![img_3.png](img_3.png)
- Thay vÃ¬ mÃ¬nh Ä‘Æ°a ra 1 con sá»‘ cá»¥ thá»ƒ thÃ¬ mÃ¬nh sáº½ Ä‘Æ°a vÃ o con sá»‘, mÃ  con sá»‘ Ä‘Ã³ ngÆ°á»i ta gá»i lÃ 
  con trá». Thá»±c ra nÃ³ chá»‰ lÃ  cÃ¡i biáº¿n, nÃ³ chá»©a cÃ¡i Ã´ mÃ  mÃ¬nh muá»‘n láº¥y
- Khi p = 8 thÃ¬ tá»©c lÃ  mÃ¬nh truy cáº­p Ä‘áº¿n cÃ¡i Ã´ trong bá»™ nhá»› lÃ  8
  ![img_4.png](img_4.png)
- Táº¡i sao mÃ¬nh khÃ´ng viáº¿t lÃ  8 lun mÃ  mÃ¬nh pháº£i viáº¿t lÃ  p? Táº¡i vÃ¬ bá»™ nhá»› lÃ  cÃ¡i dáº¡ng nhÆ° váº­y,
  nhÆ°ng chá»‰ cÃ³ há»‡ Ä‘iá»u hÃ nh nÃ³ quáº£n lÃ½ má»i thá»© vÃ  chÃºng ta sáº½ khÃ´ng biáº¿t Ä‘Æ°á»£c vÃ¹ng nÃ o trá»‘ng vÃ 
  vÃ¹ng nÃ o khÃ´ng.
- Khi chÃºng ta cáº¥p phÃ¡t 1 cÃ¡i vÃ¹ng nhá»›, thÃ¬ vÃ¹ng nhá»› Ä‘Ã³ nÃ³ cÃ³ thá»ƒ náº±m báº¥t ká»³ á»Ÿ vá»‹ trÃ­ nÃ o. ChÃºng
  ta sáº½ khÃ´ng biáº¿t trÆ°á»›c Ä‘Æ°á»£c cÃ¡i vÃ¹ng nhá»› nÃ o
- ChÃºng ta sáº½ cáº¥p phÃ¡t á»Ÿ Ä‘Ã¢u vÃ  sáº½ dÃ¹ng á»Ÿ Ä‘Ã³, thay vÃ¬ dÃ¹ng 1 cÃ¡i giÃ¡ trá»‹ cá»¥ thá»ƒ

- ğŸ¯ Khi chÃºng ta há»c qua cáº¥u trÃºc dá»¯ liá»‡u vÃ  thuáº­t toÃ¡n thÃ¬ lÃºc Ä‘Ã³ chÃºng ta má»›i biáº¿t táº¡i sao láº¡i
  cáº§n nhá»¯ng thá»© nÃ y, vÃ  vÃ¬ sao láº¡i cáº§n con trá», mÃ¬nh cÃ³ con trá» thÃ¬ sáº½ ráº¥t thuáº­n tiá»‡n nhÆ° lÃ 
  (mÃ¬nh cÃ³ thá»ƒ cáº¥p phÃ¡t, giáº£i phÃ³ng, nhá»¯ng vÃ¹ng nhá»› nÃ o mÃ  mÃ¬nh khÃ´ng dÃ¹ng tá»›i thÃ¬ mÃ¬nh cÃ³ thá»ƒ
  bá» Ä‘i vÃ  sau Ä‘Ã³ khi cáº§n thÃ¬ mÃ¬nh láº¡i cáº¥p 1 cÃ¡i vÃ¹ng má»›i vÃ  lÆ°u nÃ³ vÃ o trong cÃ¡i biáº¿n p ).

=> Sá»­
dá»¥ng nhÆ° váº­y nÃ³ ráº¥t lÃ  má»m dáº»o

- Thay vÃ¬ chÃºng ta táº¡o pháº©n tá»­ nhÆ° lÃ  má»—i giÃ¡ trá»‹ sáº½ Ä‘Æ°á»£c gáº¯n vÃ o má»—i pháº§n tá»­ --> lÃ m nhÆ° váº­y nÃ³
  sáº½ ráº¥t lÃ  lÃ¢u. Thay vÃ o Ä‘Ã³ chÃºng ta sáº½ dÃ¹ng vÃ²ng láº·p láº·p qua cho nhanh

![img_5.png](img_5.png)

---

- Do chÃºng ta Ä‘ang há»c con trá» nÃªn chÃºng ta sáº½ code ngÃ´n ngá»¯ `C/C++`
- Náº¿u nhÆ° chÃºng ta code ngÃ´n ngá»¯ `Java` hoáº·c `.NET` thÃ¬ con trá» trong nhá»¯ng ngÃ´n ngá»¯ Ä‘Ã³ Ä‘Ã£ bá»‹ dáº¥u Ä‘i
- CÃ¡i Ä‘á»‹a chá»‰ vÃ  con trá» nÃ³ sáº½ luÃ´n luÃ´n tá»“n táº¡i, chá»‰ lÃ  ngÃ´n ngá»¯ nhá»¯ng ngÃ´n ngá»¯ báº­c cao nÃ³ sáº½
  dáº¥u Ä‘i vÃ  lÃ m cho ngÃ´n ngá»¯ sáº½ Ä‘Æ°á»£c Ä‘Æ¡n giáº£n hÃ³a vÃ  trÃ¡nh nhá»¯ng lá»—i mÃ  chÃºng ta thÆ°á»Ÿng gáº·p pháº£i
  khi mÃ  sá»­ dá»¥ng con trá»

---

### DÆ°á»›i Ä‘Ã¢y lÃ  giáº£i thÃ­ch code trong file `pointer.cpp`

![img_6.png](img_6.png)

- biáº¿n person1 = 10
- biáº¿n person2 = 20
- 2 biáº¿n nÃ y nÃ³ cháº¯c cháº¯n sáº½ náº±m trong bá»™ nhá»›
- vÃ  kÃ­ch thÆ°á»›c nÃ y nÃ³ chá»©a nhiá»u hÆ¡n 1 byte, do mÃ¬nh khai bÃ¡o biáº¿n int nÃªn kÃ­ch thÆ°á»›c cá»§a nÃ³ sáº½
  tá»›i 4
  byte
  ![img_7.png](img_7.png)
- Äá»‹a chá»‰ cá»§a nÃ³ khi mÃ¬nh cháº¡y lÃªn lÃ :
  ![img_8.png](img_8.png)
- ÄÃ¢y chÃ­nh lÃ  giÃ¡ trá»‹ chá»©a trong biáº¿n `p1` (0x41adfffe54), biáº¿n Ä‘Ã³ nÃ³ sáº½ náº±m Ä‘Ã¢u Ä‘Ã³ trong bá»™
  nhá»› vÃ  nÃ³ cÃ³ giÃ¡ trá»‹ lÃ  nhÆ° nÃ y (0x41adfffe54) Ä‘Ã³ lÃ  giÃ¡ trá»‹ `tháº­p lá»¥c phÃ¢n`
  ![img_9.png](img_9.png)
- Khi chÃºng ta nÃ³i Ä‘áº¿n biáº¿n `p1` lÃ  cÃ³ nghÄ©a chÃºng ta Ä‘ang nÃ³i Ä‘Ãªn giÃ¡ trá»‹ biáº¿n `age = 20`
- Khi chÃºng ta nÃ³i Ä‘áº¿n biáº¿n `*p1` lÃ  cÃ³ nghÄ©a chÃºng ta Ä‘ang nÃ³i Ä‘áº¿n biáº¿n `age = 10`
- `p1` Ä‘ang trá» Ä‘áº¿n `person1`. ThÃ¬ `*p1` chÃ­nh lÃ  `person1`

- => KhÃ´ng cÃ³ gÃ¬ khÃ³ hiá»ƒu háº¿t, Ä‘Ã³ chá»‰ lÃ  quy Æ°á»›c thÃ´i, dáº¥u `&` Ä‘á»ƒ láº¥y giÃ¡ trá»‹, cÃ²n dáº¥u `*` Ä‘á»ƒ láº¥y
  giÃ¡ trá»‹ táº¡i nÆ¡i khi Ä‘á»‹a chá»‰ Ä‘Ã³ chá»©a Ä‘áº¿n
  ![img_10.png](img_10.png)

---

## Káº¿t luáº­n

- Khi nÃ o cÃ³ thá»i gian thÃ¬ tÃ¡c giáº£ sáº½ lÃ m thÃªm vá» bá»™ nhá»› stack vÃ  bá»™ nhá»› heap. ÄÃ³ lÃ  2 kiáº¿n thá»©c
  ráº¥t lÃ  quan trá»ng khi chÃºng ta code ngÃ´n ngá»¯ `C/C++` hoáº·c `.NET`